<!DOCTYPE html>

<head>
    <title>setTimeout</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>

<body>
    <div id="container" style="width:100px;height:100px;border:1px solid black;"></div>
    <div id="btn" style="width:40px;height:40px;line-height:40px;margin-top:20px;background:pink;">click</div>
    <script>
    window.onload = function() {
        var con = document.getElementById('container');
        var btn = document.getElementById('btn');
        //Params: i 为起始高度，num为预期高度
        function render(i, num) {
            i++;
            con.style.height = i + 'px';
            //亮点在此
            if (i < num) {
                setTimeout(function() {
                    render(i, num);
                }, 0);
            } else {
                con = null;
                btn = null;
            }
        };
        btn.onclick = function() {
            render(100, 200);
        };
        function a(){
          console.log('a');
          setTimeout(function(){
            console.log('b');
          },1000);
          console.log('c');
        }
        function aa(){
          console.log('d');
          setTimeout(function(){
            console.log('e');
          },2000);
          console.log('f');
        }
        a();
        aa();
    };
    </script>

    <style>
    #parent {
        width: 100px;
        height: 100px;
        border: 1px solid black;
    }
    
    #child {
        width: 50px;
        height: 50px;
        background: pink;
    }
    </style>
    <div id="parent">
        <div id="child"></div>
    </div>
    <script>
    //点击子元素，实现子元素的事件在父元素触发后触发
    window.onload = function() {
        var parent = document.getElementById('parent');
        var child = document.getElementById('child');
        parent.onclick = function() {
            console.log('parent');
        }
        child.onclick = function() {
            //利用setTimeout，冒泡结束后，最后输出child
            setTimeout(function() {
                console.log('child');
            }, 0);
        }
        parent = null;
        child = null;
    }
    </script>
</body>

</html>
